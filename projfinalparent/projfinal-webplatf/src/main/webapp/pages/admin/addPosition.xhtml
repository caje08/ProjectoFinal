<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<body>
	<ui:composition template="./mainadmin.xhtml">
		<ui:define name="content">
			<p:growl />
			<h1 style="margin-bottom: 20px; font-size: 25px;" class="center">
				Add a new Position #{positionWebManagem.openNewPosition()}</h1>
			<h3>Values with * are mandatory</h3>
			<!--Position form -->

			<h:form id="newposition">

				<h:panelGrid style="display: -webkit-inline-box;" columns="2"
					cellpadding="1">

					<p:outputLabel value="Title:*" />
					<p:inputText id="title" required="true" label="title" size="25"
						requiredMessage="Please, enter a title"
						value="#{positionWebManagem.activePosition.activePosition.title}" />

					<p:outputLabel for="openingDate" value="Opening date:" />
					<p:calendar style="float:left" id="openingDate"
						value="#{positionWebManagem.activePosition.activePosition.openingDate}"
						pattern="MM/dd/yyyy HH:mm"
						requiredMessage="Please enter a Opening Date" required="true" />

					<p:outputLabel for="closingDate" value="Closing date:" />
					<p:calendar style="float:left" id="closingDate"
						value="#{positionWebManagem.activePosition.activePosition.closingDate}"
						pattern="MM/dd/yyyy HH:mm"
						requiredMessage="Please, enter a Closing date" required="true" />

					<p:outputLabel value="Company:*" />
					<p:outputLabel style="float:left" value="Critical SW" />
					<!-- <p:outputLabel value="#{positionWebManagem.activePosition.activePosition.company}" /> -->
					<!--         <p:inputText id="company" title="company"  value="#{positionWebManagem.activePosition.activePosition.company}" required="true" requiredMessage="Please, enter a Company"/> -->

					<p:outputLabel value="Technical Area:*" />
					<p:selectOneMenu style="float:left" id="Tech_area"
						value="#{positionWebManagem.activePosition.activePosition.technicalArea}">
						<f:selectItem itemLabel="SSPA" itemValue="SSPA" />
						<f:selectItem itemLabel=".Net Development"
							itemValue="DOTNETDEVELOPMENT" />
						<f:selectItem itemLabel="Java Development"
							itemValue="JAVADEVELOPMENT" />
						<f:selectItem itemLabel="Safety Critical"
							itemValue="SAFETYCRITICAL" />
						<f:selectItem itemLabel="Project Management"
							itemValue="PROJECTMANAGEMENT" />
						<f:selectItem itemLabel="Integration" itemValue="INTEGRATION" />
					</p:selectOneMenu>
					<!--  <p:inputText id="technicalArea" title="Technical Area"  value="#{positionWebManagem.activePosition.activePosition.technicalArea}" required="true" requiredMessage="Please, enter a Technical Area"/> -->

					<p:outputLabel value="Job Description:*" />
					<p:inputTextarea style="float:left" id="jobDescription"
						title="Job Description"
						value="#{positionWebManagem.activePosition.activePosition.jobDescription}"
						required="true" requiredMessage="Please, enter a Job Description." />

					<p:outputLabel value="Publishing channels:*" />
					<p:selectOneMenu style="float:left" id="pub_Chann" required="true"
						value="#{positionWebManagem.activePosition.activePosition.publishingChannels}">
						<f:selectItem itemLabel="Critical SW web site"
							itemValue="CRITICALSWWEBSITE" />
						<f:selectItem itemLabel="LinkedIn" itemValue="LINKEDIN" />
						<f:selectItem itemLabel="Facebook" itemValue="FACEBOOK" />
						<f:selectItem itemLabel="Glassdoor" itemValue="GLASSDOOR" />
						<f:selectItem itemLabel="All defined"
							itemValue="CRITICALSWWEBSITE,LINKEDIN,FACEBOOK,GLASSDOOR " />
						<f:selectItem itemLabel="Other" itemValue="OTHER" />
					</p:selectOneMenu>

					<p:outputLabel value="Other Publishing channels:" />
					<p:inputText style="float:left" id="publishingChannels"
						title="Publishing channels"
						value="#{positionWebManagem.activePosition.texttmp}"
						required="false"
						requiredMessage="Please, enter the text for alternatives Publishing channels." />

					<p:outputLabel for="location" value="Location: " />
					<p:selectOneMenu style="float:left" id="location"
						value="#{positionWebManagem.activePosition.activePosition.location}">
						<f:selectItem itemLabel="Lisbon" itemValue="LISBON" />
						<f:selectItem itemLabel="Oporto" itemValue="OPORTO" />
						<f:selectItem itemLabel="Coimbra" itemValue="COIMBRA" />
						<f:selectItem itemLabel="Client" itemValue="CLIENT" />
						<f:selectItem itemLabel="Coimbra and Lisboa"
							itemValue="COIMBRA_LISBON" />
						<f:selectItem itemLabel="Coimbra and Oporto"
							itemValue="COIMBRA_OPORTO" />
						<f:selectItem itemLabel="Lisboa and Oporto"
							itemValue="LISBOA_OPORTO" />
						<f:selectItem itemLabel="Coimbra, Lisboa and Oporto"
							itemValue="COIMBRA_LISBON_OPORTO" />
					</p:selectOneMenu>

					<p:outputLabel for="status" value="Status: " />
					<p:selectOneMenu style="float:left" id="status"
						value="#{positionWebManagem.activePosition.activePosition.status}">
						<f:selectItem itemLabel="Open" itemValue="OPEN" />
						<f:selectItem itemLabel="Close" itemValue="CLOSED" />
						<f:selectItem itemLabel="On Hold" itemValue="ONHOLD" />
					</p:selectOneMenu>

					<p:outputLabel for="public" value="Is public:" />
					<h:selectOneRadio style="float:left" id="public"
						value="#{positionWebManagem.activePosition.activePosition.isPublic}">
						<f:selectItem itemLabel="Yes" itemValue="True" />
						<f:selectItem itemLabel="No" itemValue="False" />
					</h:selectOneRadio>


					<p:outputLabel for="vacancies" value="Number of vacancies: " />
					<p:spinner style="float:left" id="vacancies"
						value="#{positionWebManagem.activePosition.activePosition.vacancies}"
						min="0" />

					<p:commandButton styleClass="myButton"
						id="phoneguideToChooseButton"
						value="Choose a phone Guide Interview*"
						oncomplete="PF('phoneguide').show()" update=":phoneguideTable">
						<f:setPropertyActionListener value="#{guide}"
							target="#{positionWebManagem.selectedInterviewGuide}" />
					</p:commandButton>
					<p:outputLabel id="thephoneguide"
						value="#{positionWebManagem.position.phoneInterviewEntity.title}" />
					<p:commandButton styleClass="myButton"
						id="presentialguideToChooseButton"
						value="Choose a presential Guide Interview*"
						oncomplete="PF('presentialguide').show()"
						update=":presentialguideTable">
						<f:setPropertyActionListener value="#{guide}"
							target="#{positionWebManagem.selectedInterviewGuide}" />
					</p:commandButton>
					<p:outputLabel id="thepresentialguide"
						value="#{positionWebManagem.position.presencialInterviewEntity.title}" />

					<!-- 	Button which shows pop up of managers -->
					<p:commandButton styleClass="myButton" id="managerToChooseButton"
						value="Choose a Manager for this position*"
						oncomplete="PF('manager').show()" update=":managerTable">
						<f:setPropertyActionListener value="#{manager}"
							target="#{positionWebManagem.selectedManager}" />
					</p:commandButton>
					<p:outputLabel id="manager"
						value="#{positionWebManagem.activePosition.activePosition.manager.username}" />


					<!--    Buttons  -->
					<p:commandButton styleClass="myButton" value="Add Position"
						style=" width:200px;height:50px;background-color:  ##{stylesCssToWeb.cssInUse.backgroundColorButton};Color: ##{stylesCssToWeb.cssInUse.labelColorButton}"
						action="#{positionWebManagem.addPosition()}" ajax="false" />
					<p:commandButton value=" Cancel " immediate="true"
						style=" width:150px;height:50px;background-color:  ##{stylesCssToWeb.cssInUse.backgroundColorButton};Color: ##{stylesCssToWeb.cssInUse.labelColorButton}"
						action="#{userWebView.goBackToMain()}" />


				
				</h:panelGrid>

			</h:form>


			<!-- Pop up of Presential Guides -->

			<h:form id="presentialguideTable">
				<p:dialog header="Guides" widgetVar="presentialguide" modal="true"
					height="500" width="600">
					<p:dataTable id="theguide" selectionMode="single"
						rowKey="#{guide.interviewId}"
						selection="#{positionWebManagem.selectedInterviewGuide}"
						value="#{positionWebManagem.lstPresentialInterviewsInUse}"
						var="guide">

						<p:column styleClass="centeredColumn" headerText="Title"
							filterBy="#{guide.title}" filterMatchMode="contains">
                                #{guide.title}
                            </p:column>

						<p:column styleClass="centeredColumn" headerText="Creation Date"
							filterBy="#{guide.creationDate}" filterMatchMode="contains">
                                #{guide.creationDate}
                            </p:column>


					</p:dataTable>
					<h:commandButton styleClass="myButton"
						value="Add Presential Guide for this position"
						action="#{positionWebManagem.setTheSelectedPresentialGuideInterview()}"
						style="width:350px;height:50px;background-color:  ##{stylesCssToWeb.cssInUse.backgroundColorButton};Color: ##{stylesCssToWeb.cssInUse.labelColorButton}" />

				</p:dialog>
			</h:form>

			<!-- Pop up of Phone Guides -->

			<h:form id="phoneguideTable">
				<p:dialog header="Guides" widgetVar="phoneguide" modal="true"
					height="500" width="600">
					<p:dataTable id="theguide" selectionMode="single"
						rowKey="#{guide.interviewId}"
						selection="#{positionWebManagem.selectedInterviewGuide}"
						value="#{positionWebManagem.lstPhoneInterviewsInUse}" var="guide">

						<p:column styleClass="centeredColumn" headerText="Title"
							filterBy="#{guide.title}" filterMatchMode="contains">
                                #{guide.title}
                            </p:column>

						<p:column styleClass="centeredColumn" headerText="Creation Date"
							filterBy="#{guide.creationDate}" filterMatchMode="contains">
                                #{guide.creationDate}
                            </p:column>


					</p:dataTable>
					<h:commandButton styleClass="myButton"
						value="Add Phone Guide for this position"
						action="#{positionWebManagem.setTheSelectedPhoneGuideInterview()}"
						style="width:350px;height:50px;background-color:  ##{stylesCssToWeb.cssInUse.backgroundColorButton};Color: ##{stylesCssToWeb.cssInUse.labelColorButton}" />
				</p:dialog>
			</h:form>

			<!-- Pop up of managers -->

			<h:form id="managerTable">
				<p:dialog header="Managers" widgetVar="manager" modal="true"
					height="500" width="600">
					<f:facet name="header">
                            List of Managers
                        </f:facet>
					<p:dataTable id="manager" selectionMode="single"
						rowKey="#{manager.userId}"
						selection="#{positionWebManagem.selectedManager}"
						value="#{positionWebManagem.collectListOfManagers()}"
						var="manager">
						<!-- 						value="#{positionWebManagem.lstManagers}" var="manager"> -->
						<p:column styleClass="centeredColumn" headerText="Username"
						width="200"
							filterBy="#{manager.username}" filterMatchMode="contains">
                                #{manager.username}
                            </p:column>
						<p:column styleClass="centeredColumn" headerText="First Name"
							width="150" filterBy="#{manager.firstName}"
							filterMatchMode="contains">
                                #{manager.firstName}
                            </p:column>
						<p:column styleClass="centeredColumn" headerText="Last Name"
							width="150" filterBy="#{manager.lastName}"
							filterMatchMode="contains">
                                #{manager.lastName}
                            </p:column>

					</p:dataTable>
					<h:commandButton styleClass="myButton"
						value="Add Manager for this position"
						action="#{positionWebManagem.setTheSelectedManager()}"
						style="width:350px;height:50px;background-color:  ##{stylesCssToWeb.cssInUse.backgroundColorButton};Color: ##{stylesCssToWeb.cssInUse.labelColorButton}" />
				</p:dialog>
			</h:form>

		</ui:define>
	</ui:composition>
</body>
</html>
