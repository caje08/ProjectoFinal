<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
    ]>

    <ui:composition xmlns="http://www.w3.org/1999/xhtml"
                    xmlns:h="http://java.sun.com/jsf/html"
                    template="./../../template/template.xhtml"
                    xmlns:f="http://java.sun.com/jsf/core"
                    xmlns:ui="http://java.sun.com/jsf/facelets"
                    xmlns:p="http://primefaces.org/ui">

        <!--Top Content-->

        <ui:define name="top">
            <h:form>
            <h:graphicImage library="images" name="critical_logo.png"
				style="display: inline;float: left; margin-right: 20px; margin-left: 7px;" /> 
				
				   <h:panelGrid columns="6" style="display: inline;">
				   
             <p:outputLabel value="Login for main page" style=" margin-right: 10px; margin-left: 150px;margin-top:20px;"/>
              <p:commandButton style="margin-top:20px;" 
               action="/pages/candidate/indexmainuser.xhtml?faces-redirect=true" value="Login" /><!--  style="color: ##{cssRequestBB.cssInUse.labelCommandLink}"  />&nbsp;&nbsp; -->
               
                 <p:outputLabel value="List of oportunities" style=" margin-right: 10px; margin-left: 150px;margin-top:20px;"/>
               <p:commandButton  style="margin-top:20px;"
               action="/pages/public/lstpositions.xhtml?faces-redirect=true"  value="Career Oportunity"  />
               
                <p:outputLabel value="Back to main page" style=" margin-left: 150px;margin-right: 10px;margin-top:20px;"/>
                <p:commandButton style="margin-top:20px;"
                 action="/publogin.xhtml?faces-redirect=true"  value="Main Page" />
            </h:panelGrid>
            </h:form>
            <div align="right">
                <h:graphicImage library="images" name="#{cssRequestBB.cssInUse.logoPath}"/>
            </div>
        </ui:define>


        <!--Main Content-->

        <ui:define name="content">
            <h:form>
                <h:commandLink value="Click here to login if you are a returning applicant" action="/pages/candidate/indexmainuser.xhtml?faces-redirect=true"/>
            </h:form>
            <h:form>
                <h:panelGrid columns="2">
                  <!--   <p:commandButton value="Use your Linkedin account" update=":linkedinform" oncomplete="PF('linkedin').show();"  /> -->
                    <p:commandButton value="Not using a Linkedin account" action="#{infoUser.setFormRendered(true)}" ajax="false" />
                </h:panelGrid>
            </h:form>

            <h:form id="signInForm" enctype="multipart/form-data" rendered="#{infoUser.formRendered}">
                <p:growl showDetail="true"/>
                <h3> Values with * are mandatory </h3>
                <h:outputText value= "Submit a New Application using Linkedin account" rendered="#{infoUser.isLinkedin}" style="color: #D20005" />
                <h:outputText value= "Submit a New Application not using Linkedin account" rendered="#{!infoUser.isLinkedin}" style="color: #D20005" />
                <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
                    <h:panelGrid columns="1" cellpadding="1"  >
                        <p:outputLabel value="First Name*"/>
                        <p:inputText id="firstname" required="true" label="firstname"
                                     size="40" requiredMessage="Please enter your First Name"
                                     value="#{infoUser.applicant.firstName}">
                        </p:inputText>
                        <p:watermark for="firstname" value="First Name" />

                        <p:outputLabel value="Last Name*"/>
                        <p:inputText id="lastname" required="true" label="lastname"
                                     size="40" requiredMessage="Please enter your last name."
                                     value="#{infoUser.applicant.lastName}">
                        </p:inputText>
                        <p:watermark for="lastname" value="Last Name" />

                        <p:outputLabel value="Email*"/>
                        <p:inputText id="email" required="true" label="email"
                                     size="40" requiredMessage="Please enter your email."
                                     value="#{infoUser.applicant.email}">
                            <f:validateRegex
                                pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$"/>
                        </p:inputText>
                        <p:watermark for="email" value="Email " />

                        <p:outputLabel value="Address*"/>
                        <p:inputText id="address" required="true" label="address"
                                     size="40" requiredMessage="Please enter your Address."
                                     value="#{infoUser.applicant.address}">
                        </p:inputText>
                        <p:watermark for="address" value="Address " />

                        <p:outputLabel value="City*"/>
                        <p:inputText id="city" required="true" label="city"
                                     size="40" requiredMessage="Please enter your city."
                                     value="#{infoUser.applicant.city}">
                        </p:inputText>
                        <p:watermark for="city" value="City " />

                        <p:outputLabel value="Fix Phone"/>
                        <p:inputText id="phone" label="phone"
                                     size="40" 
                                     value="#{infoUser.applicant.phone}">
                        </p:inputText>
                        <p:watermark for="phone" value="Phone " />

                        <p:outputLabel value="Mobile Phone*"/>
                        <p:inputText id="mobilphone" required="true" label="mobilphone"
                                     size="40" requiredMessage="Please enter your mobil phone with 9 digits or more"
                                     value="#{infoUser.applicant.mobile}">
                        </p:inputText>
                        <p:watermark for="mobilphone" value="Mobile Phone " />


                        <p:outputLabel value="Country*"/>
                        <p:inputText id="country" required="true" label="country"
                                     size="40" requiredMessage="Please enter your country."
                                     value="#{infoUser.applicant.country}">
                        </p:inputText>
                        <p:watermark for="country" value="Country " />

                        <p:outputLabel value="Degree*"/>
                        <p:inputText id="degree" required="true" label="degree"
                                     size="40" requiredMessage="Please enter your degree."
                                     value="#{infoUser.applicant.degree}">
                        </p:inputText>
                        <p:watermark for="degree" value="Degree " />

                        <p:outputLabel value="School*"/>
                        <p:inputText id="school" required="true" label="school"
                                     size="40" requiredMessage="Please enter your school."
                                     value="#{infoUser.applicant.school}">
                        </p:inputText>
                        <p:watermark for="school" value="School " />

                        <p:outputLabel value="Source*"/>
                        <p:inputText id="source" required="true" label="source"
                                     size="40" requiredMessage="Please enter your source."
                                     value="#{infoUser.application.source}">
                        </p:inputText>
                        <p:watermark for="source" value="Source " />

                        <p:outputLabel value="Password*"/>
                        <p:password id="password" required="true" label="password" size="40"
                                    requiredMessage="Please enter your password."
                                    match="confirmPassword" value="#{infoUser.applicant.password}"
                                    maxlength="20">
                        </p:password>
                        <p:watermark for="password" value="Password* " />

                        <p:outputLabel value="Confirm Password*"/>
                        <p:password id="confirmPassword" required="true" size="40"
                                    requiredMessage="Please confirm your password."
                                    label="confirmPassword" value="#{infoUser.applicant.password}"
                                    maxlength="20">
                        </p:password>
                        <p:watermark for="confirmPassword" value="Type Password Again*" />

                        <p:fileUpload update="cv1" id="cv" auto="true" fileUploadListener="#{infoUser.uploadCV}" label="Upload CV*" 
                                      allowTypes="/(\.|\/)(pdf|docx|txt)$/" sizeLimit="60000000" />
                        <p:growl id="cv1" showDetail="true" />


                        <p:fileUpload update="cl1" id="ml" auto="true" fileUploadListener="#{infoUser.uploadMotivationLetter}" label="Upload Cover Letter*" 
                                      allowTypes="/(\.|\/)(pdf|docx|txt)$/" sizeLimit="60000000" />
                        <p:growl id="cl1" showDetail="true" />

                        <p:message for="ml" />

                        <h:commandButton value="Submit Application" style="width:100px; height:50px; background-color:  ##{cssRequestBB.cssInUse.backgroundButtonColor};Color: ##{cssRequestBB.cssInUse.labelButtonColor}"
                                         action="#{infoUser.createApplication()}"/>
                    </h:panelGrid>




                </h:panelGrid>
            </h:form>
            <!-- <h:form id="linkedinform" >
                <p:growl showDetail="true"/>
                <p:dialog id="modalDialog" header="Linkedin Form" widgetVar="linkedin" modal="true" height="auto" width="auto">

                    <h:panelGrid columns="1" >
                        <p:outputLabel value="Email*"/>
                        <p:inputText  required="true" 
                                      size="40" requiredMessage="Please enter a email"
                                      value="#{infoUser.emailLinkedin}">
                        </p:inputText>

                        <p:outputLabel value="Password*"/>
                        <p:password required="true" 
                                    size="40" requiredMessage="Please enter a password"
                                    value="#{infoUser.passwordLinkedin}">
                        </p:password>
                        <h:commandButton value="Continue Apply" action="#{infoUser.generateToken()}" style="background-color:  ##{cssRequestBB.cssInUse.backgroundButtonColor};Color: ##{cssRequestBB.cssInUse.labelButtonColor}"/> 
                        <h:outputText value="*By clicking Continue Apply, this app can access your Linkedin public page "/>
                    </h:panelGrid>
                </p:dialog>
            </h:form> -->

        </ui:define>
    </ui:composition>
