<!DOCTYPE html [
    <!ENTITY nbsp "&#160;"> 
    ]>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	template="./../../template/template.xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<!--Top Content-->

	<ui:define name="top">

		<h:graphicImage library="images" name="critical_logo.png"
			style="display: inline;float: left; margin-right: 20px; margin-left: 7px;" />

		<h:form id="menu" style="margin-left: 90px;">
			<p:menubar>
				<p:menuitem value="Login"
					action="/pages/candidate/indexmainuser.xhtml?faces-redirect=true"
					style="margin-right:20px" />

				<p:menuitem value=" Main page"
					action="/publogin.xhtml?faces-redirect=true"
					style="margin-right:20px" />

				<!-- <p:menuitem  value="List of oportunities"
						action="/pages/candidate/openpositions.xhtml?faces-redirect=true" style="margin-right:20px"/> -->

				<p:menuitem value="Career Oportunity"
					action="/pages/public/lstpositions.xhtml?faces-redirect=true"
					style="margin-right:20px" />

				<p:menuitem value="New User"
					action="/pages/public/spontaneousApply.xhtml?faces-redirect=true"
					style="margin-right:20px" />
			</p:menubar>
		</h:form>


		
	</ui:define>


	<!--Main Content-->

	<ui:define name="content">
		<!--   <h:form  style="margin-top: 20px;">

                <h:commandLink value="Click here to login if you are a returning applicant" action="/pages/candidate/indexmainuser.xhtml?faces-redirect=true"/>
            </h:form>
            <h:form style="margin-top: 20px;">
                <h:panelGrid columns="2"     >
                    <p:commandButton value="Use your Linkedin account" update=":linkedinform" oncomplete="PF('linkedin').show();"  />
                    <p:commandButton value="Not using a Linkedin account" action="#{infoUser.setFormRendered(true)}" ajax="false" />
                </h:panelGrid>
            </h:form> -->


		<!-- rendered="#{infoUser.formRendered}" -->

		<h:form id="signInForm" enctype="multipart/form-data"
			style="display: inline-table; font-weight:bold;">
			<p:growl showDetail="true" />
			<h1 style="margin-bottom: 20px; font-size: 25px; color: black;">Send
				Application to Position:#{position.title}</h1>
			<h3>Values with * are mandatory</h3>

			<!--   <h:outputText value= "Submit a New Application using Linkedin account" rendered="#{infoUser.isLinkedin}" style="margin-top: 20px;" />
                <h:outputText value= "Submit a New Application not using Linkedin account" rendered="#{!infoUser.isLinkedin}" style="margin-top: 20px;" /> -->


			<h:panelGrid columns="2"
				style="margin-bottom:10px;font-weight: 700; font-size: 16px;"
				cellpadding="5">

				<p:outputLabel value="First Name*" />
				<p:inputText id="firstname" required="true" label="firstname"
					size="40" requiredMessage="Please enter your First Name"
					value="#{infoUser.applicant.firstName}">
				</p:inputText>
				<p:watermark for="firstname" value="First Name" />
				<h:outputText></h:outputText>

				<p:outputLabel value="Last Name*" />
				<p:inputText id="lastname" required="true" label="lastname"
					size="40" requiredMessage="Please enter your last name."
					value="#{infoUser.applicant.lastName}">
				</p:inputText>
				<p:watermark for="lastname" value="Last Name" />
				<h:outputText></h:outputText>

				<p:outputLabel value="Email*" />
				<p:inputText id="email" required="true" label="email" size="40"
					requiredMessage="Please enter your email."
					value="#{infoUser.applicant.email}">
					<f:validateRegex
						pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
				</p:inputText>
				<p:watermark for="email" value="Email " />
				<h:outputText></h:outputText>

				<p:outputLabel value="Address*" />
				<p:inputText id="address" required="true" label="address" size="40"
					requiredMessage="Please enter your Address."
					value="#{infoUser.applicant.address}">
				</p:inputText>
				<p:watermark for="address" value="Address " />
				<h:outputText></h:outputText>

				<p:outputLabel value="City*" />
				<p:inputText id="city" required="true" label="city" size="40"
					requiredMessage="Please enter your city."
					value="#{infoUser.applicant.city}">
				</p:inputText>
				<p:watermark for="city" value="City " />
				<h:outputText></h:outputText>

				<p:outputLabel value="Phone" />
				<p:inputText id="phone" label="phone" size="40"
					value="#{infoUser.applicant.phone}">
				</p:inputText>
				<p:watermark for="phone" value="Phone " />
				<h:outputText></h:outputText>

				<p:outputLabel value="Mobile Phone*" />
				<p:inputText id="mobilphone" required="true" label="mobilphone"
					size="40"
					requiredMessage="Please enter your mobil phone with 9 digits or more"
					value="#{infoUser.applicant.mobile}">
				</p:inputText>
				<p:watermark for="mobilphone" value="Mobile Phone " />
				<h:outputText></h:outputText>


				<p:outputLabel value="Country*" />
				<p:inputText id="country" required="true" label="country" size="40"
					requiredMessage="Please enter your country."
					value="#{infoUser.applicant.country}">
				</p:inputText>
				<p:watermark for="country" value="Country " />
				<h:outputText></h:outputText>

				<p:outputLabel value="Degree*" />
				<p:inputText id="degree" required="true" label="degree" size="40"
					requiredMessage="Please enter your degree."
					value="#{infoUser.applicant.degree}">
				</p:inputText>
				<p:watermark for="degree" value="Degree " />
				<h:outputText></h:outputText>

				<p:outputLabel value="School*" />
				<p:inputText id="school" required="true" label="school" size="40"
					requiredMessage="Please enter your school."
					value="#{infoUser.applicant.school}">
				</p:inputText>
				<p:watermark for="school" value="School " />
				<h:outputText></h:outputText>

				<!-- 
				<p:outputLabel value="Source*" />
				<p:inputText id="source" required="true" label="source" size="40"
					requiredMessage="Please enter your source."
					value="#{infoUser.application.source}">
				</p:inputText>
				<p:watermark for="source" value="Source " />
					<h:outputText ></h:outputText> -->


				<p:outputLabel value="Source*" />
				<p:selectOneMenu style="float:left" id="pub_Chann" required="true"
					value="#{infoUser.application.source}">
					<f:selectItem itemLabel="Critical SW web site"
						itemValue="CRITICALSWWEBSITE" />
					<f:selectItem itemLabel="LinkedIn" itemValue="LINKEDIN" />
					<f:selectItem itemLabel="Facebook" itemValue="FACEBOOK" />
					<f:selectItem itemLabel="Glassdoor" itemValue="GLASSDOOR" />
					<f:selectItem itemLabel="All defined"
						itemValue="CRITICALSWWEBSITE,LINKEDIN,FACEBOOK,GLASSDOOR " />
					<f:selectItem itemLabel="Other" itemValue="OTHER" />
				</p:selectOneMenu>
				<p:outputLabel value="Other source:" />
				<p:inputText style="float:left" id="publishingChannels"
					title="Source channels" value="#{infoUser.application.source}"
					size="40" required="false"
					requiredMessage="Please, enter the text for alternatives source channels." />




				<p:outputLabel value="Password*" />
				<p:password id="password" required="true" label="password" size="40"
					requiredMessage="Please enter your password."
					match="confirmPassword" value="#{infoUser.applicant.password}"
					maxlength="20">
				</p:password>
				<p:watermark for="password" value="Password* " />
				<h:outputText></h:outputText>

				<p:outputLabel value="Confirm Password*" />
				<p:password id="confirmPassword" required="true" size="40"
					requiredMessage="Please confirm your password."
					label="confirmPassword" value="#{infoUser.applicant.password}"
					maxlength="20">
				</p:password>
				<p:watermark for="confirmPassword" value="Type Password Again*" />
				<h:outputText></h:outputText>

				<p:outputLabel value="Cover Letter Filename:" />
				<h:outputText id="clid" value="#{infoUser.clUploadName}" />
				<p:fileUpload update="clid cl1" id="ml" mode="advanced" auto="true"
					required="true"
					fileUploadListener="#{infoUser.uploadMotivationLetter}"
					label="Upload Cover Letter*"
					requiredMessage="Please upload Cover Letter"
					allowTypes="/(\.|\/)(pdf|docx|txt)$/" sizeLimit="52428800"
					styleClass="fileUploadClass" />
				<p:growl id="cl1" showDetail="true" />
				<!-- sizeLimit="52428800" /> -->
				<p:message for="ml" />
		<h:outputText></h:outputText>
		
				<p:outputLabel value="CV Filename:" />
				<h:outputText id="cvid" value="#{infoUser.clUploadName}" />
				<p:fileUpload update="cvid cv1" mode="advanced" auto="true" id="cv"
					previewWidth="40" required="true"
					fileUploadListener="#{infoUser.uploadCV}" label="Upload CV*"
					styleClass="fileUploadClass" allowTypes="/(\.|\/)(pdf|docx|txt)$/"
					sizeLimit="52428800" requiredMessage="Please upload CV" />
				<!-- fileUploadListener="#{manageApplicationWeb.uploadCV}" -->
				<p:growl id="cv1" showDetail="true" />
				<p:message for="cv" />




				<h:commandButton styleClass="myButton" value="Apply"
					style="width:100px; height:50px; background-color:  ##{stylesCssToWeb.cssInUse.backgroundColorButton};Color: ##{stylesCssToWeb.cssInUse.labelColorButton}"
					action="#{infoUser.createManualApplication()}" />

				<!-- <h:commandButton styleClass="myButton" value="Cancel"
					style="width:100px; height:50px; background-color:  ##{cssRequestBB.cssInUse.backgroundButtonColor};Color: ##{cssRequestBB.cssInUse.labelButtonColor}"
					action="/publogin.xhtml?faces-redirect=true" />
 -->
			</h:panelGrid>
		</h:form>
		<!-- <h:form id="linkedinform" >
                <p:growl showDetail="true"/>
                <p:dialog id="modalDialog" header="Linkedin Form" widgetVar="linkedin" modal="true" height="auto" width="auto">

                    <h:panelGrid columns="1" >
                        <p:outputLabel value="Email*"/>
                        <p:inputText  required="true" 
                                      size="40" requiredMessage="Please enter a email"
                                      value="#{infoUser.emailLinkedin}">
                        </p:inputText>

                        <p:outputLabel value="Password*"/>
                        <p:password required="true" 
                                    size="40" requiredMessage="Please enter a password"
                                    value="#{infoUser.passwordLinkedin}">
                        </p:password>
                        <h:commandButton value="Continue Apply" action="#{infoUser.generateToken()}" style="background-color:  ##{cssRequestBB.cssInUse.backgroundButtonColor};Color: ##{cssRequestBB.cssInUse.labelButtonColor}"/> 
                        <h:outputText value="*By clicking Continue Apply, this app can access your Linkedin public page "/>
                    </h:panelGrid>
                </p:dialog>
            </h:form> -->

	</ui:define>
</ui:composition>
