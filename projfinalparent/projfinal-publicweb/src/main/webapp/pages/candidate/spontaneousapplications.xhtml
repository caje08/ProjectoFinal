<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	template="./../../template/templateuser.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">



	<ui:define name="top">
		<h:form>
			<p:menubar>
				<p:menuitem icon="ui-icon-home"
					action="/pages/candidate/indexmainuser.xhtml?faces-redirect=true" />
				<p:submenu label="Welcome: #{pubActiveSession.activeUser.username}"
					style="padding-left:20px">
					<p:menuitem value="Logout" action="#{pubLoginMB.logout()}" />
					<p:menuitem value="Edit"
						action="/pages/candidate/editcandidate.xhtml?faces-redirect=true" />
				</p:submenu>
				<p:submenu label="Applications" style="padding-left:20px">
					<p:menuitem value="Open Positions"
						action="/pages/candidate/openpositions.xhtml?faces-redirect=true" />
					<p:menuitem value="New Spontaneous Application"
						action="/pages/candidate/spontaneousapplications.xhtml?faces-redirect=true" />
					<p:menuitem value="My applications"
						action="/pages/candidate/userapplications.xhtml?faces-redirect=true" />
				</p:submenu>
			</p:menubar>
		</h:form>
		<div align="right">
			<h:graphicImage library="images"
				name="#{cssRequestBB.cssInUse.logoPath}" />
		</div>
	</ui:define>
	<ui:define name="content">
	
		<h1 style="margin-bottom: 20px; font-size: xx-large;">Spontaneous
			Applications</h1>
		<h3>Values with * are mandatory</h3>
		<p></p>
		<h:form enctype="multipart/form-data" style="display: inline-table;">

			<h:panelGrid columns="1" cellpadding="1">

				<p:outputLabel style="text-align: center;font-size: 25px; margin-bottom: 15px;"
					value="Source*" />
				<p:inputText id="source" required="true" label="source" size="30"
					requiredMessage="Please enter your source."
					value="#{infoUser.application.source}">
				</p:inputText>
				<p:watermark for="source" value="Source " />
				<p:message for="source" />

<p:outputLabel value="CV Filename:" />
					<h:outputText id="cvid" value="#{manageApplicationWeb.cvname}" />
	<p:fileUpload update="cvid cv1" mode="advanced" auto="true" id="cv"
						previewWidth="40" required="true"
						fileUploadListener="#{manageApplicationWeb.uploadCV}"
						label="Upload CV*" styleClass="fileUploadClass"
						allowTypes="/(\.|\/)(pdf|docx|txt)$/" sizeLimit="60000000"
						requiredMessage="Please upload CV" />
				<p:growl id="cv1" showDetail="true" />


				<p:outputLabel value="Cover Letter Filename:" />
					<h:outputText id="clid" value="#{manageApplicationWeb.clname}" />
					<p:fileUpload update="clid cl1" id="ml" mode="advanced" auto="true"
						required="true"
						fileUploadListener="#{manageApplicationWeb.uploadMotivationLetter}"
						label="Upload Cover Letter*"
						requiredMessage="Please upload Cover Letter"
						allowTypes="/(\.|\/)(pdf|docx|txt)$/" sizeLimit="60000000"
						styleClass="fileUploadClass" />
					
					<!-- sizeLimit="52428800" /> -->
				<p:growl id="cl1" showDetail="true" />

			</h:panelGrid>

			<p:commandButton value="Submit" styleClass="myButton" ajax="false"
				style=" background-color:  ##{cssRequestBB.cssInUse.backgroundButtonColor};Color: ##{cssRequestBB.cssInUse.labelButtonColor}"
				action="#{infoUser.createManualUserApplications()}" />
		</h:form>
	</ui:define>
</ui:composition>
